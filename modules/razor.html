<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="description" content="Wyam is a simple to use, highly modular, and extremely configurable static content generator." />
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <title>Wyam - Modules - Razor</title>
        <link href="/Content/bootstrap-less/bootstrap.css" rel="stylesheet" />
        <link href="/Content/adminlte/AdminLTE.css" rel="stylesheet" />
        <link href="/Content/adminlte/skins/wyam.css" rel="stylesheet" />
        <link href="/Content/prettify.css" rel="stylesheet">
        <link href="/Content/github.css" rel="stylesheet">
        <link href="https://cdn.rawgit.com/knsv/mermaid/0.5.8/dist/mermaid.css" rel="stylesheet">
        <link href="/Content/master.css" rel="stylesheet" />
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <script src="/Scripts/jQuery-2.1.4.min.js"></script>
        <script src="/Scripts/bootstrap.min.js"></script>        
        <script src="/Scripts/app.min.js"></script>         
        <script src="/Scripts/prettify.js"></script>   
        <script src="/Scripts/jquery.slimscroll.min.js"></script>
        <script src="https://cdn.rawgit.com/knsv/mermaid/0.5.8/dist/mermaid.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/Scripts/html5shiv.min.js"></script>
        <script src="/Scripts/respond.min.js"></script>
        <![endif]-->  
    </head>

    <body class="hold-transition wyam layout-boxed  " onload="prettyPrint()">    
        <div class="top-banner"></div>
        <div class="wrapper">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">
                    <!-- mini logo for sidebar mini 50x50 pixels -->
                    <span class="logo-mini"><img src="/Content/images/nav-logo.png"></span>
                    <!-- logo for regular state and mobile devices -->
                    <span class="logo-lg"><img src="/Content/images/nav-logo.png"></span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/getting-started">Getting Started</a></li>
                                    <li class="active"><a href="/modules">Modules</a></li>
                                    <li><a href="/api">API</a></li>
                                    <li><a href="/knowledgebase">Knowledgebase</a></li>
                                    <li><a href="/community">Community</a></li>

                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                    
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="sidebar smaller">                    
                    
                    <!-- search form -->
                    
                    
                    <!-- sidebar menu: : style can be found in sidebar.less -->
                    <ul class="sidebar-menu">
                        
				<li class="header">Content</li>
			<li>
				<a href="/modules/append">
					Append
				</a>
			</li>
			<li>
				<a href="/modules/autolink">
					AutoLink
				</a>
			</li>
			<li>
				<a href="/modules/content">
					Content
				</a>
			</li>
			<li>
				<a href="/modules/csvtohtml">
					CsvToHtml
				</a>
			</li>
			<li>
				<a href="/modules/exceltocsv">
					ExcelToCsv
				</a>
			</li>
			<li>
				<a href="/modules/generatecloudsearchdata">
					GenerateCloudSearchData
				</a>
			</li>
			<li>
				<a href="/modules/generatecontent">
					GenerateContent
				</a>
			</li>
			<li>
				<a href="/modules/generatejson">
					GenerateJson
				</a>
			</li>
			<li>
				<a href="/modules/htmlescape">
					HtmlEscape
				</a>
			</li>
			<li>
				<a href="/modules/image">
					Image
				</a>
			</li>
			<li>
				<a href="/modules/minifycss">
					MinifyCss
				</a>
			</li>
			<li>
				<a href="/modules/minifyhtml">
					MinifyHtml
				</a>
			</li>
			<li>
				<a href="/modules/minifyjs">
					MinifyJs
				</a>
			</li>
			<li>
				<a href="/modules/minifyxhtml">
					MinifyXhtml
				</a>
			</li>
			<li>
				<a href="/modules/minifyxml">
					MinifyXml
				</a>
			</li>
			<li>
				<a href="/modules/prepend">
					Prepend
				</a>
			</li>
			<li>
				<a href="/modules/replace">
					Replace
				</a>
			</li>
			<li>
				<a href="/modules/replacein">
					ReplaceIn
				</a>
			</li>
			<li>
				<a href="/modules/rss">
					Rss
				</a>
			</li>
			<li>
				<a href="/modules/searchindex">
					SearchIndex
				</a>
			</li>
			<li>
				<a href="/modules/sitemap">
					Sitemap
				</a>
			</li>
			<li class="header">Control</li>
			<li>
				<a href="/modules/branch">
					Branch
				</a>
			</li>
			<li>
				<a href="/modules/combine">
					Combine
				</a>
			</li>
			<li>
				<a href="/modules/concat">
					Concat
				</a>
			</li>
			<li>
				<a href="/modules/concatbranch">
					ConcatBranch
				</a>
			</li>
			<li>
				<a href="/modules/documents">
					Documents
				</a>
			</li>
			<li>
				<a href="/modules/foreach">
					ForEach
				</a>
			</li>
			<li>
				<a href="/modules/frontmatter">
					FrontMatter
				</a>
			</li>
			<li>
				<a href="/modules/groupby">
					GroupBy
				</a>
			</li>
			<li>
				<a href="/modules/if">
					If
				</a>
			</li>
			<li>
				<a href="/modules/merge">
					Merge
				</a>
			</li>
			<li>
				<a href="/modules/modulecollection">
					ModuleCollection
				</a>
			</li>
			<li>
				<a href="/modules/orderby">
					OrderBy
				</a>
			</li>
			<li>
				<a href="/modules/paginate">
					Paginate
				</a>
			</li>
			<li>
				<a href="/modules/switch">
					Switch
				</a>
			</li>
			<li>
				<a href="/modules/take">
					Take
				</a>
			</li>
			<li>
				<a href="/modules/where">
					Where
				</a>
			</li>
			<li class="header">Extensibility</li>
			<li>
				<a href="/modules/execute">
					Execute
				</a>
			</li>
			<li>
				<a href="/modules/trace">
					Trace
				</a>
			</li>
			<li class="header">Input/Output</li>
			<li>
				<a href="/modules/copyfiles">
					CopyFiles
				</a>
			</li>
			<li>
				<a href="/modules/download">
					Download
				</a>
			</li>
			<li>
				<a href="/modules/readapplicationinput">
					ReadApplicationInput
				</a>
			</li>
			<li>
				<a href="/modules/readfiles">
					ReadFiles
				</a>
			</li>
			<li>
				<a href="/modules/readproject">
					ReadProject
				</a>
			</li>
			<li>
				<a href="/modules/readsolution">
					ReadSolution
				</a>
			</li>
			<li>
				<a href="/modules/unwrittenfiles">
					UnwrittenFiles
				</a>
			</li>
			<li>
				<a href="/modules/writefiles">
					WriteFiles
				</a>
			</li>
			<li class="header">Metadata</li>
			<li>
				<a href="/modules/analyzecsharp">
					AnalyzeCSharp
				</a>
			</li>
			<li>
				<a href="/modules/copymeta">
					CopyMeta
				</a>
			</li>
			<li>
				<a href="/modules/directorymeta">
					DirectoryMeta
				</a>
			</li>
			<li>
				<a href="/modules/excerpt">
					Excerpt
				</a>
			</li>
			<li>
				<a href="/modules/filename">
					FileName
				</a>
			</li>
			<li>
				<a href="/modules/generatemeta">
					GenerateMeta
				</a>
			</li>
			<li>
				<a href="/modules/gitcommits">
					GitCommits
				</a>
			</li>
			<li>
				<a href="/modules/gitcontributors">
					GitContributors
				</a>
			</li>
			<li>
				<a href="/modules/github">
					GitHub
				</a>
			</li>
			<li>
				<a href="/modules/htmlquery">
					HtmlQuery
				</a>
			</li>
			<li>
				<a href="/modules/indx">
					Index
				</a>
			</li>
			<li>
				<a href="/modules/json">
					Json
				</a>
			</li>
			<li>
				<a href="/modules/meta">
					Meta
				</a>
			</li>
			<li>
				<a href="/modules/validatemeta">
					ValidateMeta&lt;T&gt;
				</a>
			</li>
			<li>
				<a href="/modules/xmp">
					Xmp
				</a>
			</li>
			<li>
				<a href="/modules/yaml">
					Yaml
				</a>
			</li>
			<li class="header">Templates</li>
			<li>
				<a href="/modules/less">
					Less
				</a>
			</li>
			<li>
				<a href="/modules/markdown">
					Markdown
				</a>
			</li>
			<li class="active">
				<a href="/modules/razor">
					Razor
				</a>
			</li>
			<li>
				<a href="/modules/xslt">
					Xslt
				</a>
			</li>


                    </ul>
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                


<section class="content-header">
    <h1>
		Razor
					<small><span class="label label-default">Wyam.Modules.Razor</span></small>

	</h1>
</section>
<section class="content">
	  
	
			<div class="lead">
    Parses, compiles, and renders Razor templates.
    </div>
			<div>
    <p>
    Razor is the templating language used by ASP.NET MVC. This module can parse and compile Razor 
    templates and then render them to HTML. While a bit 
    outdated, <a href="http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx/">this guide</a> 
    is a good quick reference for the Razor language syntax.
    </p>
    <p>
    This module is based on the Razor code in the forthcoming ASP.NET 5 (vNext). 
    It was written from the ground-up and doesn't use an intermediate library like RazorEngine 
    (which is a great library, implementing directly just provides more control). Note that for 
    now, TagHelpers are not implemented in Wyam. Their API is still changing and it would have 
    been too difficult to keep up. Support for TagHelpers may be introduced 
    once ASP.NET MVC 5 becomes more stable.
    </p>
    <p>
    Whenever possible, the same conventions as the Razor engine in ASP.NET MVC were used. It's 
    important to keep in mind however, that this is <em>not</em> ASP.NET MVC. Many features you may 
    be used to will not work (like most of the <code>HtmlHelper</code> extensions) and others just don't 
    make sense (like the concept of <em>actions</em> and <em>controllers</em>). Also, while property names and 
    classes in the two engines have similar names(such as <code>HtmlHelper</code>) they are not the same, 
    and code intended to extend the capabilities of Razor in ASP.NET MVC probably won't work. 
    That said, a lot of functionality does function the same as it does in ASP.NET MVC.
    </p>
    

      <p>
        Razor is an extremely powerful templating language, especially if you already know C#. Writing a simple Razor template is easy, but there are a lot of ways they can be customized and controlled. If you're 
        not familiar with Razor templates, <a href="http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx/">see here for a great introduction to the syntax</a>.
      </p>
      
      <h2>View Model</h2>
      <p>
        The view model for each page is the <code>IDocument</code> of the input document. This allows you to write statements like <code>@Model.Get&lt;string&gt;("MyMetadataKey")</code>.
      </p>

      <h2>View Properties</h2>
      <p>
        You also have access to other Wyam information from your view. The following properties are available on every page:
      </p>
      <ul>
        <li>
          <span class="description">
            <code>Metadata</code>: Contains the metadata of the current document. This is the same as <code>Model</code>.
          </span>
        </li>
        <li>
          <span class="description">
            <code>ExecutionContext</code>: Contains the Wyam <code>IExecutionContext</code> which has information about the currently executing Wyam pipeline.
          </span>
        </li>
        <li>
          <span class="description">
            <code>Documents</code>: Contains the Wyam <code>IDocumentCollection</code> which holds all processed documents and provides various means of accessing them.
          </span>
        </li>
      </ul>

      <h2>ViewStart</h2>
      <p>
        You can place common Razor code to be executed at the start of every Razor page in a "_ViewStart.cshtml" file. This is typically used to specify a layout page.
      </p>

      <h2>Layouts</h2>
      <p>
        Layouts function much the same way as they do in ASP.NET MVC. Typically you place your layout code in a "_Layout.cshtml" file (though it can be named anything) and then 
        set it in the "_ViewStart.cshtml" file. You can use <code>@RenderBody()</code> and <code>@RenderSection()</code> just as you would in ASP.NET MVC.
      </p>

      <h2>Partials</h2>
      <p>
        Partials also work as they do in ASP.NET MVC. Just use <code>@Html.Partial("_PartialName")</code> or <code>@Html.RenderPartial("_PartialName")</code>. Note that you can't pass a model to the 
        partial view (since the model is always set to the current <code>IDocument</code>). To pass data to a partial view, use the <code>ViewData</code> collection, setting a value just before rendering the 
        partial and then getting it within the partial.
      </p>

      <h2>HtmlHelpers</h2>
      <p>
        It's possible to define custom HtmlHelpers in your configuration file and then use them within your Razor page. This provides a great way to specify common behavior for all your views. 
        In the declarations section of your configuration file, add a static class (the name doesn't matter, but convention suggests you call it <code>HtmlHelperExtensions</code> or <code>HtmlExtensions</code>). Then 
        add static extension methods for <code>HtmlHelper</code>. For example:
        <pre class="prettyprint"><code>
// Setup code
// ...
===
// Declaration code

public static class HtmlHelperExtensions
{
  public static string HelloWorld(this HtmlHelper helper)
  {
    return "Hello World!";
  }
}
---
// Configuration code
// ...
        </code></pre>
        Then you can use it from your Razor pages by calling <code>@Html.HelloWorld()</code>.
      </p>

      <h2>Base Page</h2>
      <p>
        You can also specify a different base page for your Razor views. This lets you do things like define additional properties or behavior for every page. In the declarations section of your configuration file, 
        add an abstract class that derives from <code>BaseRazorPage</code>. Then page the <code>Type</code> of your new base class to the <code>Razor</code> module.
        <pre class="prettyprint"><code>
// Setup code
// ...
===
// Declaration code

public abstract class MyRazorPage : BaseRazorPage
{
  public string HelloWorld
  {
    get { return "Hello World"; }
  }
}
---
// Configuration code

Pipelines.Add("Content",
  ReadFiles("*.cshtml"),
  Razor(typeof(MyRazorPage)),
  WriteFiles(".html")
);
        </code></pre>
        Then you can use any methods, properties, etc. you defined in your base class directly within your Razor pages - I.e., <code>@HelloWorld</code>.
      </p>
      
    </div>
			<h1>Package</h1>
			<hr />
			<div>This module exists in the <strong>Wyam.Modules.Razor</strong> package which is not part of the core distribution. Add the following preprocessor directive to your <a href="/getting-started/configuration">configuration file</a> to use it:</div>
			<pre class="prettyprint"><code>#n -p Wyam.Modules.Razor</code></pre>
			<div>Alternativly, you can add all modules at once with the following preprocessor directive:</div>
			<pre class="prettyprint"><code>#n -p Wyam.Modules.All</code></pre>
		<h1>Usage</h1>
		<hr />
		<ul>			
					<li>
								<p><strong><code>Razor(Type basePageType = null)</code></strong></p>
								<p>
    Parses Razor templates in each input document and outputs documents with rendered HTML content. 
    If <code>basePageType</code> is specified, it will be used as the base type for Razor pages.
    </p>
								<ul>
										<li><p><code>basePageType</code></p><p>Type of the base Razor page class, or <code>null</code> for the default base class.</p></li>
								</ul>

					</li>				

		</ul>
			<h2>Fluent Methods</h2>
			<p>Chain these methods together after the constructor to modify behavior.</p>
			<ul>
					<li>
								<p><strong><code>IgnorePrefix(string prefix)</code></strong></p>
								<p>
    Specifies a file prefix to ignore. If a document has a metadata value for <code>SourceFileName</code> and 
    that metadata value starts with the specified prefix, that document will not be processed or 
    output by the module. By default, the Razor module ignores all documents prefixed with 
    an underscore (_). Specifying <code>null</code> will result in no documents being ignored.
    </p>
								<ul>
										<li><p><code>prefix</code></p><p>The file prefix to ignore.</p></li>
								</ul>

					</li>				
					<li>
								<p><strong><code>WithViewStart(DocumentConfig path)</code></strong></p>
								<p>
    Specifies an alternate ViewStart file to use for all Razor pages processed by this module. This 
    lets you specify a different ViewStart file for each document. For example, you could return a 
    ViewStart based on document location or document metadata. Returning <code>null</code> from the 
    function reverts back to the default ViewStart search behavior for that document.
    </p>
								<ul>
										<li><p><code>path</code></p><p>A delegate that should return the ViewStart path as a <code>FilePath</code>, 
    or <code>null</code> for the default ViewStart search behavior.</p></li>
								</ul>

					</li>				
					<li>
								<p><strong><code>WithViewStart(FilePath path)</code></strong></p>
								<p>
    Specifies an alternate ViewStart file to use for all Razor pages processed by this module.
    </p>
								<ul>
										<li><p><code>path</code></p><p>The path to the alternate ViewStart file.</p></li>
								</ul>

					</li>				
			</ul>
	
</section>                
            </div>
            
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer"><small>Wyam is crafted by <a href="http://www.daveaglick.com">Dave Glick</a> and <a href="https://github.com/Wyamio/Wyam/graphs/contributors">other awesome contributors</a>. <a href="https://github.com/Wyamio/Wyam">Code on GitHub</a>. This site was entirely generated by Wyam. Check out <a href="https://github.com/Wyamio/Wyam.Web">the site code on GitHub</a>.</small></footer>
        </div>
        <div class="github-button">
            <a href="https://github.com/Wyamio/Wyam"><i class="fa fa-github"></i> GitHub</a>
        </div>
        <script>
            $(document).load(function() {
                mermaid.initialize();
            });
        </script>
        <script>
            ((window.gitter = {}).chat = {}).options = {
                room: 'wyamio/wyam'
            };
        </script>
        <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
        <script>            
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');            
            ga('create', 'UA-54470483-4', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>