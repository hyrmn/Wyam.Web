<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="description" content="Wyam is a simple to use, highly modular, and extremely configurable static content generator." />
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <title>Wyam - Concepts</title>
        <link href="/Content/bootstrap-less/bootstrap.css" rel="stylesheet" />
        <link href="/Content/adminlte/AdminLTE.css" rel="stylesheet" />
        <link href="/Content/adminlte/skins/wyam.css" rel="stylesheet" />
        <link href="/Content/prettify.css" rel="stylesheet">
        <link href="/Content/github.css" rel="stylesheet">
        <link href="https://cdn.rawgit.com/knsv/mermaid/0.5.8/dist/mermaid.css" rel="stylesheet">
        <link href="/Content/master.css" rel="stylesheet" />
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <script src="/Scripts/jQuery-2.1.4.min.js"></script>
        <script src="/Scripts/bootstrap.min.js"></script>        
        <script src="/Scripts/app.min.js"></script>         
        <script src="/Scripts/prettify.js"></script>   
        <script src="/Scripts/jquery.slimscroll.min.js"></script>
        <script src="https://cdn.rawgit.com/knsv/mermaid/0.5.8/dist/mermaid.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/Scripts/html5shiv.min.js"></script>
        <script src="/Scripts/respond.min.js"></script>
        <![endif]-->  
    </head>

    <body class="hold-transition wyam layout-boxed  " onload="prettyPrint()">    
        <div class="top-banner"></div>
        <div class="wrapper">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">
                    <!-- mini logo for sidebar mini 50x50 pixels -->
                    <span class="logo-mini"><img src="/Content/images/nav-logo.png"></span>
                    <!-- logo for regular state and mobile devices -->
                    <span class="logo-lg"><img src="/Content/images/nav-logo.png"></span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/getting-started">Getting Started</a></li>
                                    <li><a href="/modules">Modules</a></li>
                                    <li><a href="/api">API</a></li>
                                    <li><a href="/knowledgebase">Knowledgebase</a></li>
                                    <li><a href="/community">Community</a></li>

                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                    
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="sidebar smaller">                    
                    
                    <!-- search form -->
                    
                    
                    <!-- sidebar menu: : style can be found in sidebar.less -->
                    <ul class="sidebar-menu">
                        
	
				<li>
				<a href="/getting-started/obtaining">
					Obtaining
				</a>
			</li>
			<li class="active">
				<a href="/getting-started/concepts">
					Concepts
				</a>
			</li>
			<li>
				<a href="/getting-started/usage">
					Usage
				</a>
			</li>
			<li>
				<a href="/getting-started/configuration">
					Configuration
				</a>
			</li>
			<li>
				<a href="/getting-started/io">
					I/O
				</a>
			</li>
			<li>
				<a href="/getting-started/deployment">
					Deployment
				</a>
			</li>
			<li>
				<a href="/getting-started/examples">
					Examples
				</a>
			</li>



                    </ul>
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                


	<section class="content-header">
		<h1>Concepts</h1>
	</section>
	<section class="content">
		


<p>The primary concepts in Wyam are <em>modules</em>, <em>pipelines</em>, <em>documents</em>, and <em>metadata</em>.</p>
<h1>Modules</h1>
<hr />
<p>A <em>module</em> is a small single-purpose component that takes documents as input, does something based on those documents (possibly transforming them), and outputs documents as a result of whatever operation was performed.</p>
<h1>Pipelines</h1>
<hr />
<p>A <em>pipeline</em> is a series of modules executed in sequence that results in final output documents. A given Wyam configuration can have multiple pipelines which are executed in sequence, and subsequent pipelines have access to the documents from the previous pipelines.</p>
<p>Conceptually, a simple pipeline looks like:</p>
<div class="mermaid">
    graph TD
        D1("Empty Document")
        D1-->Module1["Module 1"]
        Module1-->D2("Document A")
        Module1-->D3("Document B")
        D2-->Module2["Module 2"]
        D3-->Module2
        Module2-->D4("Document C")
        Module2-->D5("Document D")
</div>
<p>In the visualization above, the first module may have read some files (in this case 2 files) and stuck some information about those files such as name and path in the document metadata. Then the second module may have transformed the files (for example, from Markdown to HTML).</p>
<p>It's not unusual for a real-world generation to contain many different pipelines. Many times this is helpful if you need to reuse the output from one of the pipelines or want to separate the different generation steps.</p>
<div class="mermaid">
    graph TD
        subgraph Second Pipeline
            D6("Empty Document")
            D6-->Module3["Module 3"]
            Module3-->D7("Document E")
            D7-->Module4["Module 4"]
            Module4-->D8("Document F")
        end
        subgraph First Pipeline
            D1("Empty Document")
            D1-->Module1["Module 1"]
            Module1-->D2("Document A")
            Module1-->D3("Document B")
            D2-->Module2["Module 2"]
            D3-->Module2
            Module2-->D4("Document C")
            Module2-->D5("Document D")
        end
</div>
<h1>Documents</h1>
<hr />
<p>A <em>document</em> is a combination of <em>content</em> and <em>metadata</em> as it makes it's way through the system. The content of a document is what most modules manipulate and is what you will presumably output at the end of the pipeline. The metadata serves as a way to pass information to and from modules to other modules (see below). Once a value is added to the metadata by one module, it can never be removed by a subsequent one (though it can be overwritten). It can be important to note that documents are immutable. Though we often talk about documents being &quot;transformed&quot; or &quot;manipulated&quot; by modules, this isn't strictly accurate. Instead modules return a new copy of the document with different content and/or additional metadata.</p>
<div class="mermaid">
    graph TD
        subgraph Document
            subgraph Metadata
                Title
                Published
            end
            Content
        end
</div>
<h2>Accessing Documents</h2>
<p>During execution you can access all the documents generated by each pipeline so far via the <code>IDocumentCollection</code> interface, which is available via the <code>Documents</code> property in the <code>IExecutionContext</code> provided to module constructors and also available in most templates (for example, in <a href="/modules/razor">Razor templates</a> the page property <code>Documents</code> contains the current <code>IDocumentCollection</code>).</p>
<h1>Metadata</h1>
<hr />
<p>Along with it's content, every document contains <em>metadata</em>. As with documents, metadata is immutable and you must clone a document to add additional metadata. Several modules, such as <a href="/modules/meta">Meta</a>, are designed to allow you to manipulate document metadata as part of your pipeline.</p>
<p>Metadata is the primary means of passing information between modules and pipelines. For example, when a file is <a href="/modules/readfiles">read from disk</a>, metadata is set that records where on disk the file came from, it's file name, and other information. When the file is later <a href="/modules/writefiles">written back to disk</a>, this metadata is used to determine where the file should go and what filename to use. Another example would be using metadata to define tags for your blog posts. You could create a &quot;Tags&quot; metadata field in the <a href="/modules/frontmatter">front matter</a> of your post file and then read that metadata later to create tag clouds, lists of similar posts, etc.</p>
<h2>Accessing Metadata</h2>
<p>Metadata is available via the <code>Metadata</code> property of every <code>IDocument</code>. The <code>IMetadata</code> interface implements <code>IReadOnlyDictionary&lt;string, object&gt;</code> for easy access. Every <code>IDocument</code> also implements <code>IReadOnlyDictionary&lt;string, object&gt;</code> and passes any calls through to it's metadata (so you'll rarely actually use the <code>Metadata</code> property and just access metadata directly through the document).</p>
<h2>Metadata Type Conversion</h2>
<p>All metadata is represented internally as raw objects. This allows you to store not just strings, but more complex data as well. However, when you access metadata you probably don't want to think about how it's stored or what the orignal type was. For example, <a href="/modules/yaml">YAML</a> doesn't really distinguish between numbers and strings when it reads data, it's only when getting a value that you care. To make metadata as easy to work with as possible, Wyam includes a very powerful type conversion capability that lets you convert nearly any metadata value to any other compatible type.</p>
<p>When converting metadata values, all .NET type conversion techniques are checked including <code>TypeConverter</code>, <code>IConvertible</code>, casting, etc. The conversion support is provided by the <a href="http://www.codeproject.com/Articles/248440/Universal-Type-Converter">UniversalTypeConverter</a> library.</p>
<p>If you request an <code>IList&lt;T&gt;</code>, <code>IEnumerable&lt;T&gt;</code>, or array of <code>T</code> and the metadata value is also enumerable, all elements will be converted to the requested type <code>T</code> and those that cannot be converted will be omitted from the result. If the metadata value is not enumerable, it will be returned as a single element of the requested enumerable type.</p>
<h2>Metadata Lookup</h2>
<p>There are several extensions to make working with documents and metadata easier. One of the more powerful ones lets you generate an <code>ILookup&lt;T, IDocument&gt;</code> from a sequence of documents based on a metadata key. The signature of the extension method is <code>ILookup&lt;T, IDocument&gt; ToLookup&lt;T&gt;(this IEnumerable&lt;IDocument&gt; documents, string key)</code> where <code>key</code> is the metadata key that you want to generate a lookup for.</p>
<p>For example, say you have a sequence of documents, some of which contain metadata for the key &quot;Tags&quot;. Also, assume that some of the documents with &quot;Tags&quot; metadata contain a single value some contain arrays. If you simply call <code>Documents.ToLookup&lt;string&gt;(&quot;Tags&quot;)</code> you will get back an <code>ILookup&lt;T, IDocument&gt;</code> keyed by each possible tag string with a sequence of the documents that contain that tag as the value.</p>


	</section>
                
            </div>
            
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer"><small>Wyam is crafted by <a href="http://www.daveaglick.com">Dave Glick</a> and <a href="https://github.com/Wyamio/Wyam/graphs/contributors">other awesome contributors</a>. <a href="https://github.com/Wyamio/Wyam">Code on GitHub</a>. This site was entirely generated by Wyam. Check out <a href="https://github.com/Wyamio/Wyam.Web">the site code on GitHub</a>.</small></footer>
        </div>
        <div class="github-button">
            <a href="https://github.com/Wyamio/Wyam"><i class="fa fa-github"></i> GitHub</a>
        </div>
        <script>
            $(document).load(function() {
                mermaid.initialize();
            });
        </script>
        <script>
            ((window.gitter = {}).chat = {}).options = {
                room: 'wyamio/wyam'
            };
        </script>
        <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
        <script>            
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');            
            ga('create', 'UA-54470483-4', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>